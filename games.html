<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Politaria – Games</title>

  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="96x96" href="icon/favicon-96x96.png" />
  <link rel="icon" type="image/svg+xml" href="icon/favicon.svg" />
  <link rel="shortcut icon" href="icon/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="icon/apple-touch-icon.png" />
  <link rel="manifest" href="icon/site.webmanifest" />

  <style>
    :root{
      --bg0:#070A12;
      --bg1:#0b1020;
      --card: rgba(255,255,255,0.045);
      --card2: rgba(255,255,255,0.025);
      --border: rgba(148,163,184,0.16);
      --text:#e6edf3;
      --muted: rgba(230,237,243,0.72);
      --shadow: 0 24px 70px rgba(0,0,0,0.55);
      --radius: 22px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 18% 10%, rgba(99,102,241,0.16), transparent 55%),
        radial-gradient(900px 500px at 85% 20%, rgba(34,211,238,0.14), transparent 58%),
        radial-gradient(900px 600px at 40% 90%, rgba(52,211,153,0.10), transparent 62%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    .stars{
      position:fixed;
      inset:0;
      pointer-events:none;
      opacity:.55;
      background-image:
        radial-gradient(2px 2px at 15% 25%, rgba(255,255,255,.9) 40%, transparent 60%),
        radial-gradient(1px 1px at 45% 70%, rgba(255,255,255,.7) 40%, transparent 60%),
        radial-gradient(1px 1px at 75% 35%, rgba(255,255,255,.6) 40%, transparent 60%),
        radial-gradient(1px 1px at 85% 80%, rgba(255,255,255,.55) 40%, transparent 60%);
    }

    /* ================= HEADER ================= */
    header{
      position:sticky;
      top:0;
      z-index:10;
      padding:18px 26px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      background:rgba(10,14,26,.58);
      backdrop-filter: blur(10px);
      border-bottom:1px solid rgba(148,163,184,.12);
    }

    .logo{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:900;
    }
    .logo-badge{
      width:36px;height:36px;
      border-radius:14px;
      background:rgba(255,255,255,.06);
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .logo-img{ width:74%; }

    .profile-wrapper{ position:relative; }

    .profile-btn{
      display:flex;
      align-items:center;
      gap:12px;
      padding:10px 14px 10px 12px;
      border-radius:999px;
      background:rgba(255,255,255,.05);
      border:1px solid rgba(148,163,184,.18);
      cursor:pointer;
      color:#e6edf3;
      font-weight:800;
    }

    .avatar-ring{
      width:44px;height:44px;
      border-radius:50%;
      padding:3px;
      background:linear-gradient(135deg,#a855f7,#3b82f6);
    }
    .avatar{
      width:100%;height:100%;
      border-radius:50%;
      display:flex;
      align-items:center;
      justify-content:center;
      background:linear-gradient(180deg,#f97316,#ef4444);
      font-weight:950;
    }

    .profile-label{
      display:flex;
      align-items:center;
      gap:10px;
    }

    .gmail-logo{ display:none; }
    .gmail-logo.show{ display:inline-flex; }

    .profile-menu{
      position:absolute;
      right:0;
      top:calc(100% + 10px);
      width:260px;
      background:#0b1020;
      border-radius:16px;
      border:1px solid rgba(148,163,184,.18);
      padding:8px;
      display:none;
      box-shadow:0 30px 80px rgba(0,0,0,.6);
    }
    .profile-menu.show{ display:block; }

    .menu-item{
      width:100%;
      padding:12px 14px;
      background:none;
      border:none;
      color:#e6edf3;
      text-align:left;
      cursor:pointer;
      border-radius:12px;
      font-weight:700;
    }
    .menu-item:hover{ background:rgba(255,255,255,.08); }

    /* ================= PAGE ================= */
    main{
      max-width:1100px;
      margin:0 auto;
      padding:34px 18px 60px;
    }

    h1{
      text-align:center;
      font-size:clamp(2.3rem,4.2vw,3.6rem);
    }

    footer{
      text-align:center;
      opacity:.55;
      padding-bottom:40px;
    }
  </style>
</head>

<body>
  <div class="stars"></div>

  <header>
    <div class="logo">
      <div class="logo-badge">
        <img src="icon/favicon-96x96.png" class="logo-img" alt="Politaria">
      </div>
      <span>Politaria</span>
    </div>

    <div class="profile-wrapper">
      <button class="profile-btn" id="profileBtn">
        <span class="avatar-ring">
          <span class="avatar" id="profileInitial">I</span>
        </span>

        <span class="profile-label">
          <span class="gmail-logo" id="gmailLogo">
            <!-- LOGO GMAIL INLINE -->
            <svg viewBox="0 0 24 24" width="20" height="20">
              <path fill="#EA4335" d="M20 6.6v10.8c0 .9-.7 1.6-1.6 1.6H5.6C4.7 19 4 18.3 4 17.4V6.6l8 6.2 8-6.2z"/>
              <path fill="#FBBC05" d="M20 6.6l-8 6.2-8-6.2V6c0-.6.4-1 1-1h14c.6 0 1 .4 1 1v.6z"/>
              <path fill="#34A853" d="M4 7.2V17.4c0 .9.7 1.6 1.6 1.6H8V10L4 7.2z"/>
              <path fill="#4285F4" d="M20 7.2V17.4c0 .9-.7 1.6-1.6 1.6H16V10l4-2.8z"/>
            </svg>
          </span>
          <span id="profileLabelText">Invité</span>
        </span>
      </button>

      <div class="profile-menu" id="profileMenu">
        <button class="menu-item">⚙️ Sauvegarder la progression</button>
        <button class="menu-item" id="logout">⛔ Déconnexion</button>
      </div>
    </div>
  </header>

  <main>
    <h1>Games</h1>
  </main>

  <footer>
    Politaria © 2025
  </footer>

  <script>
    "use strict";

    const MODE_KEY = "politariaMode";
    const EMAIL_KEY = "politariaEmail";

    const profileBtn = document.getElementById("profileBtn");
    const profileMenu = document.getElementById("profileMenu");
    const gmailLogo = document.getElementById("gmailLogo");
    const profileLabelText = document.getElementById("profileLabelText");
    const profileInitial = document.getElementById("profileInitial");

    function getInitial(email){
      if(!email) return "I";
      return email[0].toUpperCase();
    }

    function updateProfileUI(mode){
      const email = localStorage.getItem(EMAIL_KEY);
      if(mode === "google"){
        gmailLogo.classList.add("show");
        profileLabelText.textContent = "";
        profileInitial.textContent = getInitial(email) || "G";
      }else{
        gmailLogo.classList.remove("show");
        profileLabelText.textContent = "Invité";
        profileInitial.textContent = "I";
      }
    }

    updateProfileUI(localStorage.getItem(MODE_KEY) === "google" ? "google" : "guest");

    profileBtn.addEventListener("click", e=>{
      e.stopPropagation();
      profileMenu.classList.toggle("show");
    });

    document.addEventListener("click", ()=>{
      profileMenu.classList.remove("show");
    });

    document.getElementById("logout").onclick = ()=>{
      localStorage.removeItem(MODE_KEY);
      location.href = "index.html";
    };
  </script>
</body>
</html>
