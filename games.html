<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Politaria ‚Äì Games</title>

  <link rel="icon" type="image/png" sizes="96x96" href="icon/favicon-96x96.png" />
  <link rel="icon" type="image/svg+xml" href="icon/favicon.svg" />
  <link rel="shortcut icon" href="icon/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="icon/apple-touch-icon.png" />
  <link rel="manifest" href="icon/site.webmanifest" />

  <link rel="stylesheet" href="css/games.css?v=20251212" />

  <!-- üî• Debug: si un script ne charge pas, tu le vois DIRECT -->
  <script>
    window.POLITARIA = window.POLITARIA || {};
    window.__assetFail = function(file){
      console.error("ASSET LOAD FAIL:", file);
      const el = document.getElementById("assetFail");
      if(el){
        el.style.display = "block";
        el.textContent = "‚ùå Fichier introuvable: " + file + " (chemin/casse/cache).";
      } else {
        alert("‚ùå Fichier introuvable: " + file);
      }
    };
  </script>

  <!-- ‚úÖ defer + cache-buster -->
  <script defer src="js/config.js?v=20251212" onerror="__assetFail('js/config.js')"></script>
  <script defer src="js/session.js?v=20251212" onerror="__assetFail('js/session.js')"></script>
  <script defer src="js/systems.js?v=20251212" onerror="__assetFail('js/systems.js')"></script>
  <script defer src="js/games.js?v=20251212" onerror="__assetFail('js/games.js')"></script>
</head>

<body>
  <div class="stars"></div>

  <!-- bandeau debug -->
  <div id="assetFail" style="display:none; position:sticky; top:0; z-index:9999; padding:10px 14px; background:#b91c1c; color:white; font-weight:900;">
    ‚ùå Un fichier n‚Äôa pas charg√©.
  </div>

  <header>
    <div class="left">
      <div class="logo">
        <div class="logo-badge">
          <img src="icon/favicon-96x96.png" alt="Politaria" class="logo-img">
        </div>
        <span>Politaria</span>
      </div>
    </div>

    <div class="header-right">
      <div class="wallet" id="wallet" title="Solde">
        <span class="coin">ü™ô</span>
        <span class="wallet-amount" id="walletAmount">$0</span>
      </div>

      <div class="profile-wrapper">
        <button class="profile-btn" id="profileBtn" aria-haspopup="true" aria-expanded="false">
          <span class="avatar-ring"><span class="avatar" id="profileInitial">I</span></span>
          <span class="profile-label" id="profileLabel">Invit√©</span>
        </button>

        <div class="profile-menu" id="profileMenu" role="menu" aria-label="Menu utilisateur">
          <button class="menu-item" id="menuSave">‚öôÔ∏è Sauvegarder la progression</button>
          <button class="menu-item" id="menuLogout">‚õî D√©connexion</button>

          <div class="menu-sep"></div>

          <a class="menu-item link" href="https://discord.gg/" target="_blank" rel="noopener">üí¨ Rejoindre le Discord</a>
          <a class="menu-item link" href="#" target="_blank" rel="noopener">üìñ Voir le Wiki</a>
        </div>
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <h1>Games</h1>
      <p class="subtitle" id="subtitle">Chargement...</p>
    </section>

    <section class="grid">
      <div class="card">
        <div class="card-inner">
          <h2>Vos syst√®mes stellaires</h2>
          <p class="muted" id="systemsText">Pr√©parez votre premi√®re √©toile‚Ä¶</p>

          <div class="toolbar" aria-label="Actions principales">
            <button class="btn primary" id="btnCreate">+ Cr√©er</button>
            <button class="btn" id="btnImport">Importer</button>
            <button class="btn" id="btnTutorial">Tutoriel</button>
            <button class="btn" id="btnLeaderboard">Classement</button>
            <button class="btn" id="btnSettings">Param√®tres</button>
          </div>

          <div class="hint" id="hint">
            Astuce : chaque syst√®me a une <b>seed</b>. Plus tard, elle g√©n√©rera plan√®tes, ressources et anomalies.
          </div>

          <div class="list" id="systemsList" aria-live="polite"></div>

          <p class="muted" id="emptyState" style="margin-top:12px; display:none;">
            Rien ici pour l‚Äôinstant. Cr√©e ton premier syst√®me et lance la chronologie.
          </p>
        </div>
      </div>

      <div class="side">
        <div class="pill"><div class="k">Mode</div><div class="v" id="modePill">‚Ä¶</div></div>
        <div class="pill"><div class="k">Stockage</div><div class="v" id="storagePill">‚Ä¶</div></div>
        <div class="pill"><div class="k">Statut</div><div class="v" id="statusPill">‚Ä¶</div></div>
        <div class="pill"><div class="k">Syst√®mes</div><div class="v" id="countPill">0</div></div>
      </div>
    </section>
  </main>

  <footer>Politaria ¬© 2025 ‚Äì Tous droits r√©serv√©s.</footer>
</body>
</html>
